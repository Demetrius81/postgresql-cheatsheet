## üî∑ –í–≤–µ–¥–µ–Ω–∏–µ

–ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL ‚Äî —ç—Ç–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ —É—Å–∫–æ—Ä—è—é—Ç –ø–æ–∏—Å–∫ —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å—Ç–æ–ª–±—Ü–æ–≤.
–ò—Ö –º–æ–∂–Ω–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ ¬´—É–∫–∞–∑–∞—Ç–µ–ª–∏¬ª –Ω–∞ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç —Å–µ—Ä–≤–µ—Ä—É –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å –Ω—É–∂–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –Ω–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –≤—Å—é —Ç–∞–±–ª–∏—Ü—É (—á—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è *sequential scan*).

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å —Ç–∞–±–ª–∏—Ü–∞ –∏–∑ –º–∏–ª–ª–∏–æ–Ω–∞ —Å—Ç—Ä–æ–∫ ‚Äî –ø–æ–∏—Å–∫ –±–µ–∑ –∏–Ω–¥–µ–∫—Å–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –º–∏–ª–ª–∏–æ–Ω–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏–π, —Ç–æ–≥–¥–∞ –∫–∞–∫ –∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç —Å–æ–∫—Ä–∞—Ç–∏—Ç—å –∏—Ö –¥–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –¥–µ—Å—è—Ç–∫–æ–≤.
–ù–æ —Å–∫–æ—Ä–æ—Å—Ç—å —á—Ç–µ–Ω–∏—è –¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è **—Ü–µ–Ω–æ–π –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç** ‚Äî –∏–Ω–¥–µ–∫—Å—ã –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏ –∫–∞–∂–¥–æ–º `INSERT`, `UPDATE` –∏ `DELETE`. –ü–æ—ç—Ç–æ–º—É –≤–∞–∂–Ω–æ –ø–æ–Ω–∏–º–∞—Ç—å, **–∫–∞–∫–∏–µ –∏–Ω–¥–µ–∫—Å—ã –Ω—É–∂–Ω—ã, –∞ –∫–∞–∫–∏–µ –≤—Ä–µ–¥–Ω—ã**.

---

## ‚öôÔ∏è –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–∞

PostgreSQL —Ö—Ä–∞–Ω–∏—Ç –∏–Ω–¥–µ–∫—Å –∫–∞–∫ **–æ—Ç–¥–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ –¥–∏—Å–∫–µ**, —Å–≤—è–∑–∞–Ω–Ω—É—é —Å —Ç–∞–±–ª–∏—Ü–µ–π.
–ö–∞–∂–¥—ã–π –∏–Ω–¥–µ–∫—Å —Å–æ–¥–µ—Ä–∂–∏—Ç:

* **–∫–ª—é—á–∏ (–∫–ª—é—á–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è)** ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª—è –∏–ª–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –ø–æ –∫–æ—Ç–æ—Ä—ã–º —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–Ω–¥–µ–∫—Å;
* **—É–∫–∞–∑–∞—Ç–µ–ª–∏ (tuple pointers)** ‚Äî —Å—Å—ã–ª–∫–∏ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–æ–∫–∏ —Ç–∞–±–ª–∏—Ü—ã;
* **–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** ‚Äî –≤–µ—Ä—Å–∏—è, —Ç–∏–ø –∏–Ω–¥–µ–∫—Å–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞.

–ö–æ–≥–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è `SELECT ... WHERE field = value`, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ (`planner`) –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ç–∞–±–ª–∏—Ü—ã –∏ —Ä–µ—à–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ –∏–Ω–¥–µ–∫—Å –∏–ª–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ö–æ–¥ –ø–æ —Ç–∞–±–ª–∏—Ü–µ.

üí° **–í–∞–∂–Ω–æ:** –∏–Ω–¥–µ–∫—Å –Ω–µ —É—Å–∫–æ—Ä—è–µ—Ç `INSERT`, `UPDATE`, `DELETE` ‚Äî –Ω–∞–æ–±–æ—Ä–æ—Ç, –∑–∞–º–µ–¥–ª—è–µ—Ç –∏—Ö, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∏–Ω–¥–µ–∫—Å–∞.

---

## üß± –í–∏–¥—ã –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ PostgreSQL

PostgreSQL –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ **–º–µ—Ö–∞–Ω–∏–∑–º–æ–≤ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏**, –∫–∞–∂–¥—ã–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã –∑–∞–ø—Ä–æ—Å–æ–≤.

---

### üîπ 1. B-tree (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

* –°–∞–º—ã–π —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã–π —Ç–∏–ø –∏–Ω–¥–µ–∫—Å–∞ (Balanced tree).
* –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞, –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ (`=`, `<`, `>`, `BETWEEN`, `ORDER BY`).
* –ò–Ω–¥–µ–∫—Å –≤—Å–µ–≥–¥–∞ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω, —á—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç `O(log n)` –ø–æ–∏—Å–∫.

üìò **–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE INDEX idx_users_name ON users(name);
SELECT * FROM users WHERE name = 'Alice';
```

üìà PostgreSQL –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ –¥–µ—Ä–µ–≤—É, –Ω–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—è –≤—Å—é —Ç–∞–±–ª–∏—Ü—É.

‚ö†Ô∏è **–ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏:**

* –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —à–∞–±–ª–æ–Ω–∞–º–∏ `LIKE '%suffix'` ‚Äî —Ç–æ–ª—å–∫–æ `LIKE 'prefix%'`.
* –ü—Ä–∏ —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö —Ç—Ä–µ–±—É–µ—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ `VACUUM` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ ¬´–º—ë—Ä—Ç–≤—ã—Ö¬ª —Å—Å—ã–ª–æ–∫.

---

### üîπ 2. Hash Index

* –†–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–≤–µ–Ω—Å—Ç–≤–∞ (`=`).
* –ë—ã—Å—Ç—Ä–µ–µ B-tree –≤ –ø—Ä–æ—Å—Ç—ã—Ö –∫–µ–π—Å–∞—Ö, –Ω–æ –∏–º–µ–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.
* –ù–∞—á–∏–Ω–∞—è —Å PostgreSQL 10, –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞–¥—ë–∂–Ω—ã –∏ WAL-–ª–æ–≥–≥–∏—Ä—É—é—Ç—Å—è.

üìò **–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE INDEX idx_users_email_hash ON users USING hash(email);
```

‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ, —Ç–∞–∫ –∫–∞–∫ B-tree —á–∞—Å—Ç–æ –Ω–µ –º–µ–¥–ª–µ–Ω–Ω–µ–µ, –∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –±–æ–ª—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π.

---

### üîπ 3. GIN (Generalized Inverted Index)

* –ò–Ω–¥–µ–∫—Å –¥–ª—è **–º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π** –≤ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:

  * `ARRAY`, `JSONB`, `tsvector` (–ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫).
* –ü–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Ö–æ–¥–∏—Ç—å —Å—Ç—Ä–æ–∫–∏, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –∫–ª—é—á–∏ JSON.

üìò **–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE INDEX idx_docs_content ON documents USING gin(to_tsvector('russian', content));
SELECT * FROM documents WHERE to_tsvector('russian', content) @@ to_tsquery('postgres');
```

‚ö†Ô∏è **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**

* –û—á–µ–Ω—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –¥–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞.
* –ú–µ–¥–ª–µ–Ω–Ω—ã–π –ø—Ä–∏ `INSERT/UPDATE`, –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–Ω–¥–µ–∫—Å –±–æ–ª—å—à–æ–π –∏ —Å–ª–æ–∂–Ω—ã–π.
* –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å `fastupdate = off/on` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

---

### üîπ 4. GiST (Generalized Search Tree)

* –û–±–æ–±—â—ë–Ω–Ω—ã–π –ø–æ–∏—Å–∫–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π:

  * –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ç–∏–ø—ã (`point`, `polygon`),
  * –¥–∏–∞–ø–∞–∑–æ–Ω—ã (`int4range`, `tsrange`),
  * –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫,
  * –±–ª–∏–∑–æ—Å—Ç—å (`<->`).

üìò **–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE INDEX idx_points_location ON points USING gist(location);
SELECT * FROM points ORDER BY location <-> point(10, 20) LIMIT 5;
```

‚öôÔ∏è GiST ‚Äî —ç—Ç–æ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è PostGIS.

‚ö†Ô∏è **–ú–∏–Ω—É—Å:** –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º ‚Äî —Ç—Ä–µ–±—É–µ—Ç *recheck* (–¥–æ–ø—Ä–æ–≤–µ—Ä–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞).

---

### üîπ 5. SP-GiST (Space-partitioned GiST)

* –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ GiST –¥–ª—è —Å–∏–ª—å–Ω–æ —Ä–∞–∑—Ä–µ–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
* –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ—Ä–µ–≤—å–µ–≤ —Å –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π: `quadtrees`, `tries`.
* –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–¥–∫–æ –≤—Ä—É—á–Ω—É—é, —á–∞—â–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (PostGIS, IP-–¥–∏–∞–ø–∞–∑–æ–Ω—ã).

---

### üîπ 6. BRIN (Block Range Index)

* –•—Ä–∞–Ω–∏—Ç **–¥–∏–∞–ø–∞–∑–æ–Ω –∑–Ω–∞—á–µ–Ω–∏–π** –¥–ª—è –±–ª–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 128 —Å—Ç—Ä–æ–∫).
* –û—á–µ–Ω—å –∫–æ–º–ø–∞–∫—Ç–µ–Ω, –Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ **—Ç–æ–ª—å–∫–æ –¥–ª—è —É–ø–æ—Ä—è–¥–æ—á–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**.

üìò **–ü—Ä–∏–º–µ—Ä:**

```sql
CREATE INDEX idx_logs_date ON logs USING brin(log_date);
```

üí° –û—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ª–æ–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, –∞—Ä—Ö–∏–≤—ã).

‚ö†Ô∏è –ù–µ —Ç–æ—á–µ–Ω –¥–ª—è —Å–ª—É—á–∞–π–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∏–¥—ë—Ç –ø–æ –±–ª–æ–∫–∞–º.

---

## üîç –í—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —á–∞—Å—Ç–∏—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã

PostgreSQL –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã **–ø–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º** –∏ **–ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö**:

### üß© –ò–Ω–¥–µ–∫—Å –ø–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—é:

```sql
CREATE INDEX idx_lower_email ON users (lower(email));
SELECT * FROM users WHERE lower(email) = 'test@mail.com';
```

‚Äî –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–∞–∂–µ –¥–ª—è –≤—ã—á–∏—Å–ª—è–µ–º—ã—Ö —É—Å–ª–æ–≤–∏–π.

### üß© –ß–∞—Å—Ç–∏—á–Ω—ã–π –∏–Ω–¥–µ–∫—Å:

```sql
CREATE INDEX idx_active_users ON users (last_login) WHERE is_active = true;
```

‚Äî —É—Å–∫–æ—Ä—è–µ—Ç –≤—ã–±–æ—Ä–∫–∏ –ø–æ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤—É –¥–∞–Ω–Ω—ã—Ö –∏ —ç–∫–æ–Ω–æ–º–∏—Ç –º–µ—Å—Ç–æ.

---

## ‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏

1. **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –∑–∞–º–µ–¥–ª—è—é—Ç –∑–∞–ø–∏—Å—å.**
   –ö–∞–∂–¥—ã–π `INSERT/UPDATE/DELETE` –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å –≤—Å–µ –∏–Ω–¥–µ–∫—Å—ã —Ç–∞–±–ª–∏—Ü—ã.

2. **VACUUM –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.**
   –£–¥–∞–ª—ë–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∏–Ω–¥–µ–∫—Å–∞—Ö –¥–æ –æ—á–∏—Å—Ç–∫–∏ ‚Äî —ç—Ç–æ ¬´dead tuples¬ª.

3. **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –º–æ–≥—É—Ç –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å.**
   –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ä–µ—à–∏—Ç, —á—Ç–æ –ø–æ–ª–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –¥–µ—à–µ–≤–ª–µ.

4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (ANALYZE) –≤–∞–∂–Ω–∞.**
   –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏ –∑–Ω–∞—á–µ–Ω–∏–π.

5. **–ù–µ –≤—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∏–Ω–¥–µ–∫—Å–∞–º–∏.**
   –ù–∞–ø—Ä–∏–º–µ—Ä, `LIKE '%suffix'` –∏–ª–∏ `ILIKE` –ø–æ—Ç—Ä–µ–±—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö `trigram`-–∏–Ω–¥–µ–∫—Å–æ–≤ (`pg_trgm`).

---

## ‚öôÔ∏è –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ª–∏ –∑–∞–ø—Ä–æ—Å –∏–Ω–¥–µ–∫—Å:

  ```sql
  EXPLAIN ANALYZE SELECT * FROM users WHERE email = 'x@y.com';
  ```

* –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º:

  ```sql
  SELECT * FROM pg_stat_user_indexes;
  ```

* –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥—É–±–ª–∏ –∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–Ω–¥–µ–∫—Å—ã:

  ```sql
  SELECT schemaname, relname, indexrelname, idx_scan
  FROM pg_stat_user_indexes
  WHERE idx_scan = 0;
  ```

---

## üß© –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω–¥–µ–∫—Å—ã ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å—Ä–µ–¥—Å—Ç–≤–æ —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤, –∞ –≤–∞–∂–Ω–µ–π—à–∞—è —á–∞—Å—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã PostgreSQL.
–•–æ—Ä–æ—à–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–Ω–¥–µ–∫—Å—ã –¥–∞—é—Ç **–æ–≥—Ä–æ–º–Ω—ã–π –ø—Ä–∏—Ä–æ—Å—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**,
–ø–ª–æ—Ö–æ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ ‚Äî –Ω–∞–æ–±–æ—Ä–æ—Ç, **–∑–∞–º–µ–¥–ª—è—é—Ç –≤—Å—é —Å–∏—Å—Ç–µ–º—É**.

**–ö—Ä–∞—Ç–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**

* –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∏–Ω–¥–µ–∫—Å—ã **–ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**, –∞ –Ω–µ ¬´–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π¬ª.
* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `EXPLAIN ANALYZE` –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π.
* –î–ª—è –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–∏—Å–∫–∞ ‚Äî `GIN`.
* –î–ª—è –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –∏ –≥–µ–æ–º–µ—Ç—Ä–∏–∏ ‚Äî `GiST` –∏–ª–∏ `SP-GiST`.
* –î–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Äî `BRIN`.
* –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ –ø—Ä–æ `VACUUM`, `ANALYZE` –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ `pg_stat_user_indexes`.

---
